{% extends 'base.html' %}

{% block page_title %} {{ user }}'s Profile {% endblock %}

{% block page_heading %} <i class="fas fa-user"></i> {{ user }}'s Profile {% endblock %}

{% block content %}

<!--Displays user details-->
 <div class="text-center my-3 user-info-display">
    <h3 class="py-3">
        {{ user }}'s Profile
        <span>
            <i class="fas fa-user"></i>
        </span>
    </h3>
    <span>
        <h6 class="py-2">
            <strong>Username:</strong>
        </h6>
        {{ profile.username }}
            <br>
        <h6 class="py-2">
            <strong>Email Address:</strong>
        </h6>
         {{ profile.email }}
    </span>
</div>
<hr class="hr-line-lightgray">
<div class="text-center my-4 user-info-display">
    <h3 class="py-4">Orders</h3>
    <h5 class="mb-4">Most Recent:</h5>
    {% for order in orders.all %}
        <h6 class="py-2">
            <strong>Order Date:</strong>
        </h6>
        {{ order.date }}
        {% for line in order.orderline.all %}
            <div class="text-center">
                <h6 class="py-2">
                    <strong>Username:</strong>
                </h6>
                {{ line.book.name }}
                <h6 class="py-2">
                    <strong>Book Price:</strong>
                </h6>
                €{{ line.book.price }}
                <h6 class="py-2">
                    <strong>Quantity:</strong>
                </h6>
                {{ line.quantity }}
                <h6 class="py-2">
                    <strong>Total Price:</strong>
                </h6>
                €{{ line.line_total }}
            </div>
        {% endfor %}
        <hr class="hr-line-filter">
    {% endfor %}
</div>

{% endblock %}
